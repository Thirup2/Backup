一个抽象数据类型其需要满足数据成员隐藏，有对应的接口即操作可供使用这两个条件。
以`Sales_item`类为例，要定义一个与之相同的`Sales_data`抽象数据类型，在C++里有以下几步：
## 一. 设计Sales_data类
### 1. 分析Sales_item类
* 首先是数据成员
    1. bookNo：string类型，表示ISBN编号
    2. units_sold：unsigned类型，表示某本书的销量
    3. revenue：double类型，表示这本书的总销售收入
* 然后是对应的操作集
    1. `isbn`成员函数：用于返回对象的ISBN编号
    2. `+`操作符：执行两个对象的加法，暂时用`add`函数代替
    3. `=`操作符：将一个对象拷贝到另一个对象中去， 暂时不进行设计
    4. `+=`操作符：用于将一个对象加到另一个对象上，暂时用`combine`成员函数代替
    5. `<<`操作符：将对象的值输出到`ostream`，暂时用`print`函数代替
    6. `>>`操作符：将数据从`istream`读入到对象中，暂时用`read`函数代替
### 2. Sales_data类使用方法
```c++
Sales_data total;
if(read(cin, total)){
    Sales_data trans;
    while(read(cin, trans)){
        if(total.isbn() == trans.isbn())
            total.combine(trans);
        else{
            print(cout, total) << endl;
            total = trans;
        }
    }
    print(cout, total) << endl;
} else {
    cerr << "No data?!" << endl;
}
```
### 3. 定义Sales_data类
为了实现`print`操作，我们还需要另外一个成员函数用于返回售出书籍的平均价格：`avg_price`。
```c++
struct Sales_data
{
    // 数据成员
    std::string bookNo;
    unsigned units_sold = 0;
    double revenue = 0.0;
    // 成员函数
    std::string isbn() const { return bookNo; }
    Sales_data &combine(const Sales_data &);
    double avg_price() const;
};
// 非成员接口函数
Sales_data add(const Sales_data &, const Sales_data &);
std::ostream &print(std::ostream &, const Sales_data &);
std::istream &read(std::istream &, Sales_data &);
```
#### 1) 定义成员函数
所有成员都必须在类的内部声明，但是不一定要在类内定义。
成员函数可以定义在类内也可以定义在类外。对于Sales_data类来说，`isbn`定义在了类内，`combine`和`avg_price`定义在了类外。